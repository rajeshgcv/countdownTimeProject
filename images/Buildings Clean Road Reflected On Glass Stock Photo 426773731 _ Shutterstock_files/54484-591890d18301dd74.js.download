"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54484],{12410:function(e,n,t){t.d(n,{Q:function(){return r}});var r=(0,t(8740).ZL)()(function(e){var n=e.typography,t=e.palette,r=e.tokens,i=r.spacing,o=r.color,c=r.font,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).width;return{bold:{fontWeight:n.fontWeightBold},radioButtonContainer:{display:"flex",alignItems:"flex-start"},radioButton:{marginRight:i.s,padding:i.xs},selectedRadioButton:{"&&.Mui-checked":{color:t.info.main}},disabledRadioButton:{color:t.secondary.disabled},disabledText:{color:t.secondary.disabled},row:{display:"flex",flexDirection:"row",width:a?"calc(".concat(a,")"):"100%"},separator:{padding:"0 ".concat(i.xs),fontWeight:n.fontWeightBold},freeTrial:{fontWeight:n.fontWeightBold,color:o.blue.aqua},descriptionContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},textSection:{display:"flex",flexDirection:"column",width:a?"calc(".concat(a,")"):"100%"},topRow:{display:"flex",flexDirection:"row",width:a?"calc(".concat(a,")"):"100%",justifyContent:"space-between"},productDescriptionText:{paddingTop:i.xs},highlightedInfo:{color:t.info.main},descriptionSection:{maxWidth:"74%"},input:{padding:"0 ".concat(i.s," 0 ").concat(i.s),fontSize:c.size.s,color:t.info.main,"&& svg":{color:t.info.main},"&:before":{content:"none"},"&:after":{content:"none"}},inputSelect:{paddingRight:"".concat(i.s," !important"),marginRight:"".concat(i.s," !important")}}})},14245:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(61640),i=(0,t(12281).g)(r.Z)},30902:function(e,n,t){t.d(n,{O:function(){return i}});var r=t(78287),i=(0,t(12281).g)(r.Z)},39514:function(e,n,t){t.d(n,{l:function(){return i}});var r=t(25237),i=t.n(r)()(function(){return t.e(73046).then(t.bind(t,73046)).then(function(e){return e.DrawerStatusMessage})},{loadableGenerated:{webpack:function(){return[73046]}},ssr:!1})},26515:function(e,n,t){t.d(n,{y:function(){return o}});var r=t(47842),i=t(13011),o=(0,t(8740).ZL)()(function(e){var n=e.breakpoints;return{root:(0,r.Z)({},n.down("lg"),{minWidth:i.r0})}})},1104:function(e,n,t){t.d(n,{Gk:function(){return v},JU:function(){return m},aY:function(){return u},lk:function(){return l}});var r=t(47842),i=t(70865),o=t(96670),c=t(26297),a=t(75),s=t(14625),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.productSelectorsMap,t=void 0===n?{}:n;return Object.keys(t).reduce(function(e,n){var c,a,s,u,d,l,f,p,v=(null===(c=t[n])||void 0===c?void 0:c.initialItemIndex)||0;return(0,o.Z)((0,i.Z)({},e),(0,r.Z)({},n,{name:null===(a=t[n])||void 0===a?void 0:null===(s=a.items)||void 0===s?void 0:null===(u=s[v])||void 0===u?void 0:u.name,id:null===(d=t[n])||void 0===d?void 0:null===(l=d.items)||void 0===l?void 0:null===(f=l[v])||void 0===f?void 0:null===(p=f.product)||void 0===p?void 0:p.id}))},{})},d=function(e){var n=e.productSelectorsMap,t=e.isIndiaRegion,c=n;return t&&(c=(0,o.Z)((0,i.Z)({},c),(0,r.Z)({},s.PU,s.K9))),c},l=function(e){var n=e.id;return e.products.find(function(e){return e.id===n})||{}},f=function(e){var n=e.name;return e.products.find(function(e){return e.name===n})||{}},p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.item,r=void 0===t?{}:t,i=n.products,o=void 0===i?[]:i,c=n.t,a=void 0===c?function(e){return e}:c,s=r.discountPercentage,u=r.name,d=void 0===u?"":u,p=r.translations,v=void 0===p?{}:p,m=r.id,y=void 0===m?"":m,h=y?l({id:y,products:o}):f({name:d,products:o}),g=v.header?a(v.header):null;e=h.downloadCredits?1===h.downloadCredits?a("feature-collections:number_images_single"):a("common:image_count_plural",{NUM_ASSETS:h.downloadCredits}):a("credits_count",{NUM:h.allotmentCredits});var P=v.description?a(v.description,{NUM:h.allotmentCredits}):null,b=v.freeTrial?a(v.freeTrial):null;return{discountPercentage:s,name:d,labels:{header:g,title:e,description:P,productName:a("product-names:".concat(null==h?void 0:h.name)),perAsset:a("activation-drawers:per_image"),freeTrial:b},translations:{price:v.price||null},product:h}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.productSelectorsMap,t=e.products,c=void 0===t?[]:t,s=e.t,u=void 0===s?function(e){return e}:s,l=e.locale,f=e.isIndiaRegion,v=(void 0===l?{}:l).currencyData.currency,m=d({productSelectorsMap:void 0===n?{}:n,isIndiaRegion:void 0!==f&&f});return Object.keys(m).reduce(function(e,n){var t=m[n],s=t.items,d=t.translations,l=void 0===d?{}:d,f=l.caption,y=l.namespace,h=l.title,g=t.initialItemIndex;return(0,o.Z)((0,i.Z)({},e),(0,r.Z)({},n,{labels:{caption:Array.isArray(f)?f.map(function(e){return u(e)}):u(f,{CURRENCY_FULL_FORM:u("".concat(a.Fx_,"::common:currency_full_form_").concat(v.toLowerCase()))}),title:y?u(h,{ns:y}):u(h)},items:(void 0===s?[]:s).map(function(e){return p({item:e,products:c,t:u})}),initialItemIndex:void 0===g?0:g}))},{})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.tabs,t=e.t,r=void 0===t?function(e){return e}:t;return(void 0===n?[]:n).map(function(e){var n=e.translations,t=(0,c.Z)(e,["translations"]);return(0,o.Z)((0,i.Z)({},t),{label:r(n)})})}},4737:function(e,n,t){t.d(n,{C7:function(){return r},ZZ:function(){return o},ik:function(){return i}});var r="LICENSING",i="LOADING",o="PURCHASING"},33469:function(e,n,t){t.d(n,{T:function(){return S}});var r=t(70865),i=t(96670),o=t(87394),c=t(27739),a=t(60591),s=t(97637),u=t(58185),d=t(20096),l=t(65229),f=function(e){var n=e.eligibility,t=void 0===n?{}:n,r=t.licenses,i=t.subscriptions;return!(0,l.R)({licenses:void 0===r?[]:r})&&!(0,d.z)({subscriptions:void 0===i?[]:i})},p=t(97376),v=function(e){var n=e.eligibility,t=void 0===n?{}:n,r=t.licenses,i=t.subscriptions,o=e.selectedProductLicenseType;return!(0,p.V)({licenses:void 0===r?[]:r,selectedProductLicenseType:o})&&(0,d.z)({subscriptions:void 0===i?[]:i})},m=t(87414),y=t(95775),h=t(43110),g=t(2784),P=t(4737),b=t(37546),C=t(68769),w=function(e){var n=e.sizes,t=Object.values(void 0===n?{}:n)||[],r=(0,C.RO)({sizes:t});return(0,b.hQ)(r)},x=function(e){var n=e.subscriptions;return null==n?void 0:n.some(function(e){var n=e.productName;return c.Kg.includes(n)})},S=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.asset,d=n.products,l=n.setLicenseDrawerState,b=(0,h.B)(),C=(0,g.useMemo)(function(){return w(t)},[t]),S=(0,o.Z)((0,g.useState)(null==C?void 0:C[0]),2),I=S[0],T=S[1],Z=(0,o.Z)((0,g.useState)(),2),D=Z[0],L=Z[1],M=(0,o.Z)((0,g.useState)({}),2),N=M[0],k=M[1],R=(0,o.Z)((0,g.useState)({}),2),j=R[0],_=R[1],A=(0,o.Z)((0,g.useState)("on"),2),E=A[0],U=A[1],O=(0,y.IP)({assets:[t]}).data,F=void 0===O?{}:O,z=(0,y.IP)({assets:[t],licenseName:null==D?void 0:D.license}).data;b||(F={subscriptions:[]},z={});var B=(z||{}).subscriptions,W=void 0===B?[]:B,Y=(null==z?void 0:null===(e=z.licenses)||void 0===e?void 0:e.length)>0,H=(0,g.useMemo)(function(){return(0,m.OG)({product:N})},[N]),q=(0,g.useMemo)(function(){return(0,m.XD)({name:null==D?void 0:D.name})},[D]),G=void 0===z||void 0===d,Q=!G&&(0,s.Y)({eligibility:z,selectedProductLicenseType:D,selectedPaymentPlan:N}),K=(0,g.useMemo)(function(){return(0,u.r)({eligibility:z,enhancedLicenseType:a.HS,selectedProductLicenseType:D})},[z,D]),V=(0,g.useMemo)(function(){return!q&&K},[q,K]),X=(0,g.useMemo)(function(){return q&&K},[q,K]),$=(0,g.useMemo)(function(){return f({eligibility:z})},[z]),J=(0,g.useMemo)(function(){return v({eligibility:z,selectedProductLicenseType:D})},[z,D]),ee=(0,g.useMemo)(function(){return G?P.ik:Q||V||X?P.ZZ:P.C7},[G,V,X,Q]),en=(0,g.useMemo)(function(){var e;return null!=z&&null!==(e=z.licenses)&&void 0!==e&&!!e.some(function(e){return e.licenseName===c.PS})&&(null==D?void 0:D.license)===a.ur||(0,p.V)({licenses:null==z?void 0:z.licenses,selectedProductLicenseType:D})},[null==z?void 0:z.licenses,D]),et=(0,g.useMemo)(function(){if(en)return{paymentPlans:[],showPaymentPlanSelect:!1};var e=W;return(null==D?void 0:D.license)===a.ur&&(e=W.filter(function(e){return e.license===a.ur})),(null==D?void 0:D.license)===a.HS&&(e=W.filter(function(e){var n=e.license,t=e.isEligibleForDownload;return n===a.HS&&t})),{paymentPlans:e.map(function(e){return(0,i.Z)((0,r.Z)({},e),{isDisabled:!e.isEligibleForDownload})}),paymentPlansForCreditCostCalculation:W,showPaymentPlanSelect:!G&&!!e.length}},[en,G,null==D?void 0:D.license,W]),er=et.paymentPlans,ei=et.paymentPlansForCreditCostCalculation,eo=et.showPaymentPlanSelect,ec=(0,g.useMemo)(function(){return x(F)},[F]);return(0,g.useEffect)(function(){if(z){var e=(null==D?void 0:D.license)===a.ur?er.find(function(e){var n=e.isDisabled,t=e.activityTracking,r=e.license;return!n&&!(t===c.bk&&r===a.HS)}):er.find(function(e){return!e.isDisabled});e||(e=(0,o.Z)(er,1)[0]),k(e)}},[z,er,null==D?void 0:D.license,k]),(0,g.useEffect)(function(){return l({assetId:t.id,selectedImageSize:I,selectedPaymentPlan:N,selectedProductLicenseType:D,selectedProductToBuy:j})},[t.id,I,N,D,j,l]),{selectedImageSize:I,selectedProductLicenseType:D,selectedPaymentPlan:N,selectedProductToBuy:j,selectedShadowsOption:E,setSelectedImageSize:T,setSelectedProductLicenseType:L,setSelectedPaymentPlan:k,setSelectedProductToBuy:_,setSelectedShadowsOption:U,eligibility:z,allSizesAssetEligibility:F,formattedImageSizes:C,paymentPlans:er,paymentPlansForCreditCostCalculation:ei,showAddToCartButton:X,showBuyAndDownloadButton:V,showGetAnotherPlanButton:$,showDownloadButton:J,showProductsToPurchase:Q,showPaymentPlanSelect:eo,isLoadingData:G,isRedownloadFlow:Y,isFlexProduct:H,hasLegacyMultiShareSubscription:ec,hasExistingLicenseForSelectedLicenseType:en,drawerState:ee}}},72253:function(e,n,t){t.d(n,{p:function(){return y}});var r=t(52322),i=t(67550),o=t(62197),c=t(14245),a=t(75),s=t(59877),u=function(e){var n=e.classes,t=e.cx,u=e.labels,d=e.data,l=e.highlightComponent;return(0,r.jsxs)("div",{className:n.row,children:[(0,r.jsx)("div",{className:n.radioButtonContainer,children:(0,r.jsx)(c.Y,{checked:d.isSelected,classes:{root:n.radioButton,checked:n.selectedRadioButton},inputProps:{"aria-label":u.productName},clickTrack:d.clickTrack})}),(0,r.jsxs)(i.Z,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"flex-start",children:[(0,r.jsxs)(i.Z,{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column",className:n.descriptionSection,children:[!!l&&l,u.header&&(0,r.jsx)(o.Z,{variant:"body2",children:(0,r.jsx)("span",{className:t(n.bold,n.header),children:u.header})}),(0,r.jsx)(o.Z,{variant:"body2",children:(0,r.jsx)("span",{className:n.bold,children:u.title})}),u.description&&(0,r.jsx)(o.Z,{variant:"caption",color:"textSecondary",children:u.description}),(0,r.jsx)(i.Z,{display:"flex",justifyContent:"center",alignItems:"flex-start",children:(0,r.jsx)(o.Z,{variant:"caption",children:d.priceTranslation?(0,r.jsx)(s.cC,{ns:a.AH,i18nKey:d.priceTranslation,values:{VALUE:d.price},components:{strong:(0,r.jsx)("b",{})}}):(0,r.jsx)("strong",{children:d.price})})})]}),(0,r.jsxs)(i.Z,{display:"flex",justifyContent:"center",alignItems:"flex-end",flexDirection:"column",flex:1,children:[d.discountPercentage&&(0,r.jsx)(o.Z,{variant:"body2",className:n.discountOriginalPrice,children:(0,r.jsx)("span",{className:n.bold,children:d.pricePerAsset})}),(0,r.jsx)(o.Z,{variant:"body2",children:d.discountPercentage?(0,r.jsx)("span",{className:n.discountPrice,children:d.pricePerAssetDiscounted}):(0,r.jsx)("span",{className:n.bold,children:d.pricePerAsset})}),(0,r.jsxs)(o.Z,{variant:"caption",children:[u.perAsset,d.discountPercentage&&"**"]})]})]})]})};u.defaultProps={highlightComponent:null,classes:{},labels:{},data:{}};var d=t(88167),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.analytics,t=(void 0===n?{}:n).pageSection,r=void 0===t?"licenseDrawer":t,i=e.item,o=void 0===i?{}:i,c=e.selectedItemId,a=e.selectedProductLicenseType,s=o.discountPercentage,u=o.name,l=void 0===u?"":u,f=o.product,p=void 0===f?{}:f,v=o.translations,m=void 0===v?{}:v,y=(0,d.IW)({downloadsPerMonth:null==p?void 0:p.downloadCredits,product:p,discountPercentage:s}),h=y.formattedPricePerAsset,g=y.formattedPricePerAssetDiscounted,P=y.formattedPricePerPaymentInterval;return{clickTrack:a?"".concat(r,".").concat(a,"LicenseSelected - ").concat(l):"".concat(r,".").concat(l),discountPercentage:s,price:P,pricePerAsset:h,pricePerAssetDiscounted:g,priceTranslation:null==m?void 0:m.price,isSelected:l===c}},f=t(70865),p=t(12410),v=(0,t(8740).ZL)()(function(e){var n=e.palette,t=e.tokens,r=t.fontSize,i=t.fontWeight;return{discountOriginalPrice:{fontSize:r.xs,textDecoration:"line-through"},discountPrice:{color:n.secondary.main,fontWeight:i.bold},header:{color:"#fff",backgroundColor:"#0070F0",padding:"4px 8px",borderRadius:2}}}),m=function(){var e=(0,p.Q)().classes,n=v(),t=n.classes,r=n.cx;return{classes:(0,f.Z)({},e,t),cx:r}},y=function(e){var n=e.item,t=e.selectedItemId,i=e.selectedProductLicenseType,o=e.highlightComponent,c=m(),a=c.classes,s=c.cx,d=l({item:n,selectedItemId:t,selectedProductLicenseType:i});return(0,r.jsx)(u,{classes:a,cx:s,data:d,labels:n.labels,highlightComponent:o})}},52417:function(e,n,t){t.d(n,{H:function(){return d}});var r=t(70865),i=t(52322),o=t(80422),c=t(39514),a=t(85966),s=t(9867),u=(0,t(8740).ZL)()(function(e){var n=e.palette;return{listTitle:{marginTop:0},listItemRoot:{display:"flex",flexDirection:"column",padding:s.W0.base,paddingLeft:s.W0.s,alignItems:"start","&:not(:last-child)":{borderBottom:"".concat(s.Cg.width.default," solid ").concat(n.border1Color)}},listRoot:{border:"".concat(s.Cg.width.default," solid ").concat(n.border1Color),borderRadius:s.Cg.radius.m,display:"flex",flexDirection:"column",padding:0,width:"100%"}}}),d=function(e){var n=e.analyticsLabel,t=e.drawerStatusMessageProps,s=e.ItemComponent,d=e.itemProps,l=e.onValueChange,f=e.title,p=e.values,v=u().classes;return(0,i.jsxs)(i.Fragment,{children:[f&&(0,i.jsx)("h5",{className:v.listTitle,children:f}),t&&(0,i.jsx)(c.l,(0,r.Z)({},t)),(0,i.jsx)(o.Z,{classes:{root:v.listRoot},"aria-label":f,children:p.map(function(e){return(0,i.jsx)(a.H,{classes:{root:v.listItemRoot},onClick:function(){e.isDisabled||l(e)},labelTrack:e.analyticsLabel||n,children:(0,i.jsx)(s,(0,r.Z)({item:e},d))},e.name)})})]})};d.defaultProps={analyticsLabel:"",drawerStatusMessageProps:null,itemProps:{},onValueChange:function(){},title:"",values:[{}]}},56398:function(e,n,t){t.d(n,{B9:function(){return l},C5:function(){return P},D7:function(){return x},Eq:function(){return c},Hj:function(){return i},Lb:function(){return h},M2:function(){return o},QT:function(){return g},QY:function(){return f},T2:function(){return w},Vg:function(){return I},WL:function(){return u},Xp:function(){return p},YR:function(){return a},ZW:function(){return C},de:function(){return d},gK:function(){return b},l9:function(){return s},oD:function(){return v},px:function(){return m},wO:function(){return y},xf:function(){return S},xt:function(){return r}});var r="CARD_PAYMENT",i="tex-7621",o="credit_card",c="sepa_direct_debit",a="paypal",s="products",u="invoices",d="sfx",l="complimentary",f="shutterstock_bill_payment",p="NL",v="za_vat",m="vat",y="tw",h="ZAR",g="TWD",P="EUR",b="music",C="video",w="image",x="elements",S="sfx",I=28},75445:function(e,n,t){t.d(n,{a:function(){return r}});var r="USD"},20096:function(e,n,t){t.d(n,{z:function(){return r}});var r=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscriptions;return!!(null==e?void 0:e.find(function(e){return e.isEligibleForDownload}))}},97376:function(e,n,t){t.d(n,{V:function(){return r}});var r=function(e){var n=e.licenses,t=e.selectedProductLicenseType,r=void 0===t?{}:t;return(void 0===n?[]:n).some(function(e){return e.licenseName===r.license})}},65229:function(e,n,t){t.d(n,{R:function(){return o}});var r=t(27739),i=t(60591),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.licenses,t=e.licenseType;return t&&(null==n?void 0:n.length)?!!n.some(function(e){return e.licenseName===r.PS})&&t===i.ur||!!n.filter(function(e){return e.licenseName===t}).length:!!(null==n?void 0:n.length)}},58185:function(e,n,t){t.d(n,{r:function(){return o}});var r=t(97376),i=t(97637),o=function(e){var n=e.eligibility,t=void 0===n?{}:n,o=t.licenses,c=void 0===o?[]:o,a=t.subscriptions,s=e.enhancedLicenseType,u=e.selectedProductLicenseType,d=e.selectedPaymentPlan,l=void 0===a?[]:a;if(null==d?void 0:d.isOneTimePurchase)return!0;var f=(0,r.V)({licenses:c,selectedProductLicenseType:u});return(null==u?void 0:u.license)===s&&(l=l.filter(function(e){var n=e.license,t=e.isEligibleForDownload;return n===s&&t})),!(0,i.Y)({eligibility:{licenses:c,subscriptions:l},selectedProductLicenseType:u})&&!f&&!l.length}},97637:function(e,n,t){t.d(n,{Y:function(){return s}});var r=t(87414),i=t(60591),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.subscriptions,t=e.licenseType,r=void 0===t?"":t;return!!(void 0===n?[]:n).filter(function(e){var n=e.isEligibleForDownload,t=e.license;return r===i.HS?t===i.HS&&n:t===i.ur}).length},c=t(65229),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[i.ur,i.HS].includes(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.eligibility,t=void 0===n?{}:n,i=t.licenses,s=t.subscriptions,u=e.selectedProductLicenseType,d=void 0===u?{}:u,l=e.selectedPaymentPlan;return a(null==d?void 0:d.license)&&!(0,r.XD)({name:null==d?void 0:d.name})&&!(0,r.OG)({product:l})&&!(0,c.R)({licenses:void 0===i?[]:i,licenseType:null==d?void 0:d.license})&&!o({subscriptions:void 0===s?[]:s,licenseType:null==d?void 0:d.license})}},87414:function(e,n,t){t.d(n,{$A:function(){return y},Jr:function(){return m},Kg:function(){return v},OG:function(){return f},XD:function(){return g},Yc:function(){return s},Yy:function(){return l},g7:function(){return p},p_:function(){return h}});var r=t(50930),i=t(27739),o=t(56495),c=t(75445),a=t(60591),s=function(e){return e.product.repeatInterval===a.MQ},u={CHF:"EUR",DKK:"EUR",NOK:"EUR",SEK:"EUR"},d=function(e){var n=e.currency,t=e.prices,r=u[n];return t[r]?r:c.a},l=function(e){var n=e.prices,t=void 0===n?{}:n,r=e.localeCurrency;return t[r.toLowerCase()]?r.toUpperCase():d({currency:r,prices:t})},f=function(e){var n=e.product;return(void 0===n?{}:n).activityTracking===i.bk},p=function(e){var n=e.product,t=void 0===n?{}:n,r=t.allotmentCredits,i=t.downloadCredits;return r&&!i},v=function(e){var n,t=e.paymentPlans,r=e.licenseType,o=e.selectedPaymentPlan;return(null==o?void 0:o.cost)?o.cost:null===(n=(void 0===t?[]:t).find(function(e){var n=e.activityTracking,t=e.isEligibleForDownload,o=e.license;return o===r&&n===i.bk&&(t||!t&&o===a.ur)}))||void 0===n?void 0:n.cost},m=function(e){var n=e.productName;return(0,r.Z)(o.LY).concat([o.i3,o.Y_]).includes(void 0===n?"":n)},y=function(e,n){return null==e?void 0:e.find(function(e){return e.name===n})},h=function(e){var n=e.products,t=e.productsToReplace,r=new Map((void 0===t?[]:t).map(function(e){return[e.name,e]}));return(void 0===n?[]:n).map(function(e){return r.get(e.name)||e})},g=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;return a.$I.includes(e)}},39781:function(e,n,t){t.d(n,{Q:function(){return W}});var r,i=t(98788),o=t(47842),c=t(70865),a=t(96670),s=t(87394),u=t(5163),d=t(27739),l=t(44699),f=t(60591),p=t(29510),v=t(66970),m=t(81740),y=t(56398),h=t(39232),g=t(44297),P=t(67661),b=t(9009),C=function(e){switch(e.paymentMethod){case y.M2:return{paymentId:e.id,expirationMonth:e.creditCard.expMonth,expirationYear:e.creditCard.expYear,maskedNumber:e.creditCard.maskedNumber,cardType:e.creditCard.type,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case y.Eq:return{paymentId:e.id,bic:e.sepaDirectDebit.bic,maskedIBAN:e.sepaDirectDebit.maskedIban,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case y.YR:return{paymentId:e.id,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit,email:e.email};default:return null}},w=function(e){var n=e.paymentProfiles,t=void 0===n?[]:n;return Array.isArray(t)&&0!==t.length?C(t.find(function(e){return!0===e.isDefault})||t[0]):null},x=function(e){var n=e.orderItems,t=e.license,r=e.country;return n.map(function(e){var n=e.product,i=void 0===n?{}:n,o=i.id,a=i.eligibleForRebilling,s=i.seatCount,u=e.productType,l=e.assets,p=e.paymentMethod,v={},m=[];return s&&(v.seat_count=s),(null==p?void 0:p.type)!==y.xt&&(v.subscription_id=null==p?void 0:p.id),(null==l?void 0:l.length)&&(m=l.map(function(e){var n=e.asset,r=e.selectedAssetSize,i=(0,g._L)(n);return(0,c.Z)({type:i,id:n.id,license:t},(null==r?void 0:r.size)&&{size:r.size},(null==r?void 0:r.format)&&{format:r.format},i===h.IK&&{headline:n.title})})),v.auto_renewal=a&&u===f.Cs&&!d.ik.includes(r)&&!d.yD.includes(e.product.name),(0,c.Z)({product:{id:o,type:u||f.cs}},m&&{media:m},Object.keys(v).length>0&&{meta:v})})},S=function(e){var n=e.currency,t=e.country,r=e.paymentProfileId,i=e.items,o=e.couponCode;return{data:{type:"orders",attributes:{currency:n,items:i,country:t,payment_profile_id:r,coupons:o?[{type:"coupon",name:"coupon",coupon_code:o}]:[],client_data:{},vat_override:e.vatNumber||void 0}}}},I=(r=(0,i.Z)(function(e){var n,t,r,i,o,c,a,s,d,l,p,v;return(0,u.__generator)(this,function(u){return n=e.country,t=e.couponCode,r=e.currency,i=e.orderItems,o=e.paymentProfileId,c=e.vatNumber,s=void 0===(a=e.configs)?{}:a,l=x({orderItems:i,license:void 0===(d=e.license)?f.ur:d,country:n}),p=(0,m.Tn)().formattedUrl,v=S({country:n,couponCode:t,currency:r,items:l,paymentProfileId:o,vatNumber:c}),[2,P.uS.post(p,v,s).then(function(e){return{headers:e.headers,data:(0,b.O)(e.data)}})]})}),function(e){return r.apply(this,arguments)}),T=t(87414),Z=function(e){var n=e.couponCode,t=e.productName,r=null;return t===d.Pv&&n===d.Xd?r=d.E6:t===d.fn&&n===d.Q9&&(r=d.Em),r},D=t(38419),L=t(55565),M=t(38367),N=t(88167),k=t(59979),R=t(70008),j=t(40233),_=t(43110),A=t(25936),E=t(24114),U=t(38204),O=t(21805),F=t(5632),z=t(2784),B=function(e){var n=e.couponCode,t=(0,F.useRouter)();return(0,z.useCallback)(function(e){var r,i=e.orderId,a=(0,D.DW)({language:t.locale,relativePath:(0,U.U2)({queryParams:(0,c.Z)({orderId:i},(null==t?void 0:t.query)||{},n?(r={},(0,o.Z)(r,f.d9,n),(0,o.Z)(r,f.Gp,n),r):{})})});t.push(a)},[n,t])},W=function(e){var n=e.products,t=e.asset,r=e.assetSize,o=e.couponCode,m=e.productId,y=e.productType,h=void 0===y?f.Cs:y,P=e.productOverride,b=e.seatCount,C=e.setCreateOrderStatus,x=void 0===C?function(){}:C,S=e.setIsInvalidCoupon,D=void 0===S?function(){}:S,U=e.vatNumber,W=e.license,Y=e.isLicenseDrawer,H=void 0!==Y&&Y,q=e.preset,G=void 0===q?void 0:q,Q=(0,p.PE)().region,K=(0,R.B)().isIndiaRegion,V=(0,_.jy)().data,X=(0,A.u)().data,$=(0,_.B)(),J=(0,s.Z)((0,z.useState)(!1),2),ee=J[0],en=J[1],et=(0,s.Z)((0,E.Q)(t)||[],2)[1],er=(0,z.useMemo)(function(){return null!=P?P:(0,c.Z)({},(0,T.$A)(n,m),b?{seatCount:b}:{})},[P,m,n,b]),ei=null==er?void 0:er.id,eo=(0,N.st)({prices:null==er?void 0:er.prices}),ec=(0,M.Z)({shouldFetch:!!$}).data,ea=o||er.couponCode,es=Z({couponCode:ea,productName:null==er?void 0:er.name}),eu=(0,k.Sl)({queryParams:(0,c.Z)({landing_page:(0,L.t)({couponCode:ea,productId:ei,vatNumber:U,seatCount:null==er?void 0:er.seatCount,doNotRedirect:!0,asset:K?t:void 0,existingUserRedirect:et})},G&&{preset:G}),signUpView:es}),ed=(0,F.useRouter)().asPath,el=(0,z.useCallback)(function(){if(window){var e,n;O.Z.set("referer_page",ed),null===(e=window.NREUM)||void 0===e||null===(n=e.addPageAction)||void 0===n||n.call(e,"UP3-1623 assign loggedOutHandler authRedirectPath to href",(0,a.Z)((0,c.Z)({},window.location||{}),{asPath:ed,authRedirectPath:eu})),window.location.href=eu}},[ed,eu]),ef=w({paymentProfiles:ec}),ep=(0,z.useCallback)(function(e){var n,t,r={createTime:null==V?void 0:V.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:X.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:null==V?void 0:V.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:null==V?void 0:V.id,username:null==V?void 0:V.username,isLicenseDrawer:H};null===(n=window.NREUM)||void 0===n||null===(t=n.noticeError)||void 0===t||t.call(n,e,r)},[X,V,H]),ev=B({couponCode:ea}),em=(0,j.d)(),ey=(0,z.useCallback)((0,i.Z)(function(){var e,n,i,o;return(0,u.__generator)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),x({status:"",error:void 0}),en(!0),K&&d.Tj.includes(ea))throw Error("free trial offer not available in India");if(!ec)return[3,2];return e=t?{assets:[{asset:t,selectedAssetSize:(0,v.DW)({assetType:(0,g.Tp)(t),assetSize:r})}]}:{},[4,I({country:Q,currency:eo,paymentProfileId:null==ef?void 0:ef.paymentId,orderItems:[(0,a.Z)((0,c.Z)({},e),{product:er,productType:h})],vatNumber:U,couponCode:ea,license:W})];case 1:n=s.sent().data,x({status:l.MR,error:void 0}),en(!1),ev({orderId:n.id}),em({actionName:"convert - order creation success",customAttributes:{productName:er.name,productType:h,country:Q,currency:eo,assetType:(0,g.Tp)(t),assetSize:r,license:W,isLicenseDrawer:H}}),s.label=2;case 2:return[3,4];case 3:return i=s.sent(),x({status:l.cM,error:i}),en(!1),(null==i?void 0:null===(o=i.detail)||void 0===o?void 0:o.toLowerCase())===f.LQ&&D(!0),ep(i),[3,4];case 4:return[2]}})}),[x,K,ea,ec,t,r,Q,eo,null==ef?void 0:ef.paymentId,er,h,U,W,H,ev,ep,D,em]);return{createOrderHandler:$?ey:el,isCreateOrderInProgress:ee,product:er}}},38367:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(81740),i=t(67661),o=t(9009),c=t(3255),a=function(e){var n=e.queryParams;return(0,r.cF)({queryParams:n}).formattedUrl},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.queryParams,t=e.shouldFetch;return(0,c.ZP)(void 0===t||t?a({queryParams:void 0===n?{}:n}):null,function(e){return i.uS.get(e).then(function(e){return(0,o.O)(e.data)})})}},77357:function(e,n,t){t.d(n,{L:function(){return l}});var r=t(70865),i=t(96670),o=t(81740),c=t(29510),a=t(67661),s=t(9009),u=t(3255),d=function(e){var n=e.queryParams;return(0,o.Xp)({queryParams:n}).formattedUrl},l=function(e){var n=e.queryParams,t=(0,c.PE)().region;return(0,u.ZP)(d({queryParams:(0,i.Z)((0,r.Z)({},n),{country:t})}),function(e){return a.uS.get(e).then(function(e){return(0,s.O)(e.data)})}).data}},88167:function(e,n,t){t.d(n,{IW:function(){return p},LG:function(){return l},cm:function(){return v},st:function(){return s},tP:function(){return d},vN:function(){return f}});var r=t(75445),i=t(29510),o=t(87414),c=t(2784),a=t(22921),s=function(e){var n=e.prices,t=(0,i.PE)().currencyData.currency,c=void 0===t?r.a:t;return(0,o.Yy)({prices:void 0===n?[]:n,localeCurrency:c})},u=function(e,n,t){return e+n*t},d=function(e){var n=e.product||{},t=n.prices,r=void 0===t?{}:t,i=n.pricesPerSeat,o=n.seatCount,c=n.downloadCredits,d=n.commitmentLength,l=s({prices:r}),f=r[null==l?void 0:l.toLowerCase()],p=(void 0===i?{}:i)[null==l?void 0:l.toLowerCase()],v=f;return p&&o&&(v=u(f,p,o)),(0,a.P)(v/(1===d?12*c:c),l)},l=function(e){var n=e.product||{},t=n.prices,r=void 0===t?{}:t,i=n.pricesPerSeat,o=n.seatCount,c=s({prices:r}),d=r[null==c?void 0:c.toLowerCase()],l=(void 0===i?{}:i)[null==c?void 0:c.toLowerCase()],f=d;return l&&o&&(f=u(d,l,o)),(0,a.P)(f,c)},f=function(e){var n=e.price,t=(e.product||{}).prices,r=s({prices:void 0===t?{}:t});return(0,a.P)(n,r)},p=function(e){var n=e.product,t=e.downloadsPerMonth,r=e.discountPercentage,i=void 0===r?0:r,u=s({prices:n.prices}),d=(0,c.useMemo)(function(){var e=n.allotmentCredits,r=(0,o.g7)({product:n}),c=(0,o.Yc)({product:n}),a=c?12:1,s=n.prices[u.toLowerCase()],d=c?(s/12).toFixed(2):s,l=(s/a/(r?e:t)).toFixed(2),f=i?((s-s/100*i)/a/(r?e:t)).toFixed(2):l;return{pricePerMonth:d,pricePerAsset:l,pricePerAssetDiscounted:f,pricePerPaymentInterval:s}},[u,t,n,i]),l=d.pricePerPaymentInterval,f=d.pricePerMonth,p=d.pricePerAsset,v=d.pricePerAssetDiscounted;return{formattedPricePerPaymentInterval:(0,a.P)(l,u),formattedPricePerMonth:(0,a.P)(f,u),formattedPricePerAsset:(0,a.P)(p,u),formattedPricePerAssetDiscounted:(0,a.P)(v,u)}},v=function(e){var n=e.product,t=e.singleClipProduct,r=s({prices:n.prices}),i=n.prices[r.toLowerCase()],o=null==t?void 0:t.prices[r.toLowerCase()],c=(i/n.downloadCredits).toFixed(2),u=((o-c)*n.downloadCredits).toFixed(0);return{formattedPackagePrice:(0,a.P)(i,r),formattedPricePerAsset:(0,a.P)(c,r),formattedSaveAmount:(0,a.P)(u,r)}}}}]);
//# sourceMappingURL=54484-591890d18301dd74.js.map